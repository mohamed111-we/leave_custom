<odoo>
    <template id="leave_vacation_balances_all_employees">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <div class="page">
                    <h2>Employee Leave Report</h2>
                    <p>Report Generated From:
                        <span t-esc="data['date_from']"/>
                        To:
                        <span t-esc="data['date_to']"/>
                    </p>
                    <p>Selected Employees:
                        <t t-set="employee_names" t-value="[]"/>
                        <t t-foreach="data['employee_ids']" t-as="employee_id">
                            <t t-set="employee_names" t-value="employee_names + [get_employee_name(employee_id)]"/>
                        </t>
                        <span t-esc="', '.join(employee_names)"/>
                    </p>
                    <p>Leave Status Filter:
                        <span t-esc="state_filter_display"/>
                    </p>
                    <hr/>

                    <t t-if="leaves">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Employee Name</th>
                                    <th>Leave Type</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Duration</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="leaves" t-as="leave">
                                    <tr>
                                        <td>
                                            <t t-esc="leave.employee_id.name"/>
                                        </td>
                                        <td>
                                            <t t-esc="leave.holiday_status_id.name"/>
                                        </td>
                                        <td>
                                            <t t-esc="leave.date_from"/>
                                        </td>
                                        <td>
                                            <t t-esc="leave.date_to"/>
                                        </td>
                                        <td>
                                            <t t-esc="leave.duration_display"/>
                                        </td>
                                        <td>
                                            <t t-esc="get_status_display(leave.state)"/>
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </t>
                    <t t-else="">
                        <p>No leave records found for the selected criteria (inside template).</p>
                    </t>
                </div>

            </t>
        </t>
    </template>


    <record id="action_leave_report_balances" model="ir.actions.report">
        <field name="name">Vacation Balances For All Employees</field>
        <field name="model">hr.leave</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">leave_custom.leave_vacation_balances_all_employees</field>
        <field name="report_file">leave_custom.leave_vacation_balances_all_employees</field>
        <field name="print_report_name">'Leave Balances Report'</field>
        <field name="binding_model_id" ref="model_leave_report_balances_wizard"/>
        <field name="binding_type">report</field>
    </record>

</odoo>
